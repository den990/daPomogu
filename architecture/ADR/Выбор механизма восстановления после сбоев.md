
Дата: 18 февраля 2025 г.  
Статус: 

Контекст:  
Система волонтерского сервиса обрабатывает персональные данные пользователей и должна соответствовать высоким требованиям доступности (AVA01) и надежности с возможностью восстановления после сбоев (DUR04). В соответствии с нефункциональными требованиями к надежности (DUR03), необходимо обеспечить ежедневное резервное копирование данных и возможность автоматического восстановления после сбоев. Резервные копии должны храниться в защищенных хранилищах, а механизм восстановления должен быть быстрым как для данных, так и для конфигурации системы.

Решение:

1. Резервное копирование:
    

- Ежедневное создание резервных копий данных (база данных, конфигурации, логи), которые хранятся в зашифрованном виде на удаленных серверах.
    
- Полные копии данных хранятся в течение 30 дней, с возможностью восстановления любой версии данных за этот период.
    

1. Восстановление данных:
    

- Процесс восстановления данных из последней копии автоматизирован. Время восстановления системы — не более 2 часов.
    
- Восстановление включает как данные, так и конфигурацию приложения.
    

1. Мониторинг и оповещения:
    

- Реализованы автоматические уведомления при сбоях системы (используем мониторинг с помощью Prometheus и системы оповещений).
    
- Для инцидентов предусмотрена быстрая реакция через оповещающие системы (например, PagerDuty), что позволяет оперативно устранить проблемы.
    

1. Failover:
    

- Использование geo-репликации данных и автоматическое переключение на резервные серверы в случае отказа основной системы.
    
- Данные синхронизируются между основным и резервным дата-центром, что обеспечивает высокую доступность и минимизацию потерь данных.
    

Альтернативы:

- Использование только локальных резервных копий без geo-репликации увеличивает риск потери данных в случае катастрофы, что неприемлемо для данного проекта.
    

Обоснование:  
Выбранное решение отвечает требованиям к надежности и минимизации времени восстановления. Использование geo-репликации и резервных дата-центров снижает вероятность потери данных и ускоряет процесс восстановления после сбоев.

Последствия:

Положительные:

- Минимизация потерь данных благодаря ежедневным резервным копиям и geo-репликации.
    
- Быстрое восстановление системы после сбоев благодаря автоматизированному процессу восстановления.
    
- Соответствие требованиям безопасности данных.
    

Отрицательные:

- Увеличение затрат на инфраструктуру, включая резервные сервера и дата-центры.
    
- Необходимость в настройке сложных процессов автоматизации для резервного копирования и восстановления.
    
-   
    